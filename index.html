<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<title>Pyramide van de Duivelüî•üëπ - Nieuwe Wiskunde</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    color: #f1f1f1;
    text-align: center;
    padding: 20px;
    background: linear-gradient(135deg, #1e1e1e, #3c0a0a);
  }
  h1, h2, h3 {
    font-family: 'Impact', sans-serif;
    color: #ff4747;
    text-shadow: 2px 2px 6px black;
  }
  h1 { font-size: 48px; margin-bottom: 10px; }
  h2 { margin-top: 0; }
  .room {
    display: none;
    background: rgba(0,0,0,0.85);
    padding: 20px;
    margin: 20px auto;
    max-width: 700px;
    border-radius: 12px;
    border: 2px solid #ff4747;
    text-align: left;
  }
  input, textarea {
    padding: 6px;
    font-size: 16px;
    background: #2e1f30;
    color: #fff;
    border: 1px solid #ff4747;
    border-radius: 5px;
  }
  input {
    width: 90px;
  }
  button {
    padding: 10px 22px;
    margin: 8px;
    cursor: pointer;
    font-size: 16px;
    background: #ff4747;
    border: 1px solid #fff;
    border-radius: 6px;
    color: white;
  }
  button:hover {
    background: #ff1e1e;
  }
  .success {
    color: #22c55e; font-size: 28px; font-weight: bold;
    text-shadow: 2px 2px 8px black;
  }
  table {
    margin: 15px auto;
    border-collapse: collapse;
    color: white;
  }
  th, td {
    border: 1px solid #ff4747;
    padding: 10px 15px;
    min-width: 50px;
    text-align: center;
  }
  td[contenteditable="true"] {
    background: #3a1a1a;
    outline: none;
    cursor: text;
  }
  .formula-input {
    width: 160px;
  }
</style>
</head>
<body>

<div id="home">
  <h1>Pyramide van de Duivelüî•üëπ</h1>
  <p><b>Los alle escape rooms op en verzamel de cijfers om te ontsnappen!</b></p>

  <button onclick="openRoom(1)">Escape Room 1 ‚Äì Lineaire Puzzels</button>
  <button onclick="openRoom(2)">Escape Room 2 ‚Äì Breuken en Verhoudingen</button>
  <button onclick="openRoom(3)">Escape Room 3 ‚Äì Omrekeningen & Tabellen</button>
  <button onclick="openRoom(4)">Escape Room 4 ‚Äì Kortingen en Procenten</button>
  <button onclick="openRoom(5)">Escape Room 5 ‚Äì Procenten Berekeningen</button>
  <button onclick="openRoom(6)">Escape Room 6 ‚Äì Groei Tabellen</button>
  <button onclick="openRoom(7)">Escape Room 7 ‚Äì Exponenten & Wortels</button>

  <h3>üî¢ Eindcode</h3>
  <input id="finalCode" maxlength="7" placeholder="code" />
  <br>
  <button onclick="checkFinal()">Check code</button>
  <p id="victory"></p>
</div>

<!-- Escape Room 1 -->
<div class="room" id="room1">
  <h2>Escape Room 1 ‚Äì Lineaire Puzzels</h2>
  <p>1) 4x + 7 = 31 ‚Üí x = <input id="r1q1" /></p>
  <p>2) 5x - 9 = 16 ‚Üí x = <input id="r1q2" /></p>
  <p>3) x/3 + 5 = 9 ‚Üí x = <input id="r1q3" /></p>
  <p>4) 7x = 56 ‚Üí x = <input id="r1q4" /></p>
  <p>5) 3x + 2 = 17 ‚Üí x = <input id="r1q5" /></p>
  <button onclick="checkRoom1()">Check</button>
  <p id="r1result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 2 -->
<div class="room" id="room2">
  <h2>Escape Room 2 ‚Äì Breuken en Verhoudingen</h2>
  <p>1) 2/3 + 1/6 = <input id="r2q1" /></p>
  <p>2) 5/8 ‚àí 1/4 = <input id="r2q2" /></p>
  <p>3) 3/5 √ó 10 = <input id="r2q3" /></p>
  <p>4) (2/3) √∑ (1/6) = <input id="r2q4" /></p>
  <button onclick="checkRoom2()">Check</button>
  <p id="r2result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 3 -->
<div class="room" id="room3">
  <h2>Escape Room 3 ‚Äì Omrekeningen & Tabellen</h2>
  <p>Vul de juiste waarden in de tabel (de rijen zijn gekoppeld):</p>
  <table>
    <tr>
      <th>Lengte (m)</th>
      <td contenteditable="true" id="tbl_r3_1"></td>
      <td contenteditable="true" id="tbl_r3_2"></td>
      <td contenteditable="true" id="tbl_r3_3"></td>
      <td contenteditable="true" id="tbl_r3_4"></td>
    </tr>
    <tr>
      <th>Lengte (cm)</th>
      <td contenteditable="true" id="tbl_r3_5"></td>
      <td contenteditable="true" id="tbl_r3_6"></td>
      <td contenteditable="true" id="tbl_r3_7"></td>
      <td contenteditable="true" id="tbl_r3_8"></td>
    </tr>
  </table>
  <p>Wat is de formule om van meter naar centimeter te gaan? Vul hier in:</p>
  <input type="text" id="r3_formula" class="formula-input" placeholder="bijv. x * 100" />
  <br><br>
  <button onclick="checkRoom3()">Check</button>
  <p id="r3result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 4 -->
<div class="room" id="room4">
  <h2>Escape Room 4 ‚Äì Kortingen en Procenten</h2>
  <p>1) ‚Ç¨80 met 25% korting ‚Üí <input id="r4q1" /> ‚Ç¨</p>
  <p>2) ‚Ç¨150 met 10% korting ‚Üí <input id="r4q2" /> ‚Ç¨</p>
  <p>3) ‚Ç¨200 met 40% korting ‚Üí <input id="r4q3" /> ‚Ç¨</p>
  <p>4) ‚Ç¨100 met 15% korting ‚Üí <input id="r4q4" /> ‚Ç¨</p>
  <button onclick="checkRoom4()">Check</button>
  <p id="r4result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 5 -->
<div class="room" id="room5">
  <h2>Escape Room 5 ‚Äì Procenten Berekeningen</h2>
  <p>1) 20% van 120 = <input id="r5q1" /> ‚Ç¨</p>
  <p>2) 35% korting op ‚Ç¨180 = <input id="r5q2" /> ‚Ç¨</p>
  <p>3) 50% van 90 = <input id="r5q3" /> ‚Ç¨</p>
  <button onclick="checkRoom5()">Check</button>
  <p id="r5result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 6 -->
<div class="room" id="room6">
  <h2>Escape Room 6 ‚Äì Groei Tabellen</h2>
  <p>Vul de tabel in. De getallen groeien volgens de pijlen √ó2, √ó3, √ó2.</p>
  <table>
    <tr>
      <th>Gewicht (kg)</th>
      <td contenteditable="true" id="tbl_r6_1"></td>
      <td contenteditable="true" id="tbl_r6_2"></td>
      <td contenteditable="true" id="tbl_r6_3"></td>
      <td contenteditable="true" id="tbl_r6_4"></td>
    </tr>
    <tr>
      <th>Bedrag (‚Ç¨)</th>
      <td contenteditable="true" id="tbl_r6_5"></td>
      <td contenteditable="true" id="tbl_r6_6"></td>
      <td contenteditable="true" id="tbl_r6_7"></td>
      <td contenteditable="true" id="tbl_r6_8"></td>
    </tr>
  </table>
  <p>Formule: Bedrag = <input type="text" id="r6_formula" class="formula-input" placeholder="bijv. 2x + 1" /></p>
  <button onclick="checkRoom6()">Check</button>
  <p id="r6result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<!-- Escape Room 7 -->
<div class="room" id="room7">
  <h2>Escape Room 7 ‚Äì Exponenten & Wortels</h2>
  <p>1) Wat is 4¬≥?</p>
  <input id="r7q1" />
  <p>2) Wat is ‚àö64?</p>
  <input id="r7q2" />
  <p>3) Wat is 2‚Åµ?</p>
  <input id="r7q3" />
  <p>4) Wat is de uitkomst van 3 √ó (2¬≤)?</p>
  <input id="r7q4" />
  <p>5) Wat is ‚àö(9 + 16)?</p>
  <input id="r7q5" />
  <button onclick="checkRoom7()">Check</button>
  <p id="r7result"></p>
  <button onclick="goHome()">Terug</button>
</div>

<script>
const correctCode = "4816937"; // Random voorbeeld code

function openRoom(n) {
  document.getElementById("home").style.display = "none";
  for(let i=1; i<=7; i++) {
    document.getElementById("room"+i).style.display = "none";
  }
  document.getElementById("room"+n).style.display = "block";
  clearResults();
  fillDefaultValues(n);
}

function goHome() {
  location.reload();
}

function clearResults() {
  for(let i=1; i<=7; i++) {
    const res = document.getElementById("r"+i+"result");
    if(res) res.innerText = "";
  }
}

function fillDefaultValues(room) {
  if(room === 3) {
    // Zet lege velden of default waarden in tabel
    let ids = ["tbl_r3_1","tbl_r3_2","tbl_r3_3","tbl_r3_4","tbl_r3_5","tbl_r3_6","tbl_r3_7","tbl_r3_8"];
    ids.forEach(id => {
      document.getElementById(id).innerText = "";
    });
    document.getElementById("r3_formula").value = "";
  }
  if(room === 6) {
    let vals = [3,6,18,36,7,14,42,84]; // uit jouw voorbeeld plaatje
    for(let i=1; i<=8; i++) {
      document.getElementById("tbl_r6_" + i).innerText = "";
    }
    document.getElementById("r6_formula").value = "";
  }
}

/* Room 1 Check */
function checkRoom1() {
  const answers = [6,5,12,8,5];
  // De sommen:
  // 4x+7=31 -> x=6
  // 5x-9=16 -> x=5
  // x/3+5=9 -> x=12
  // 7x=56 -> x=8
  // 3x+2=17 -> x=5
  for(let i=1; i<=5; i++) {
    let val = parseFloat(document.getElementById("r1q"+i).value);
    if(val !== answers[i-1]) {
      document.getElementById("r1result").innerText = "‚ùå Probeer opnieuw";
      return;
    }
  }
  document.getElementById("r1result").innerHTML = "‚úÖ Jouw cijfer: <b>4</b>";
}

/* Room 2 Check */
function checkRoom2() {
  const answers = [0.8333,0.375,6,4];
  // 2/3+1/6=5/6=0.8333
  // 5/8 - 1/4= 5/8 - 2/8=3/8=0.375
  // 3/5*10=6
  // (2/3)/(1/6) = 2/3*6=4
  for(let i=1; i<=4; i++) {
    let val = parseFloat(document.getElementById("r2q"+i).value);
    if(i<3 && Math.abs(val-answers[i-1]) > 0.01) {
      document.getElementById("r2result").innerText = "‚ùå Probeer opnieuw";
      return;
    } else if(i>=3 && val !== answers[i-1]) {
      document.getElementById("r2result").innerText = "‚ùå Probeer opnieuw";
      return;
    }
  }
  document.getElementById("r2result").innerHTML = "‚úÖ Jouw cijfer: <b>8</b>";
}

/* Room 3 Check */
function checkRoom3() {
  const meters = [];
  const centimeters = [];
  for(let i=1; i<=4; i++) {
    meters.push(document.getElementById("tbl_r3_" + i).innerText.trim());
    centimeters.push(document.getElementById("tbl_r3_" + (i+4)).innerText.trim());
  }
  // Convert string to number
  for(let i=0; i<4; i++) {
    meters[i] = parseFloat(meters[i].replace(',', '.'));
    centimeters[i] = parseFloat(centimeters[i].replace(',', '.'));
    if(isNaN(meters[i]) || isNaN(centimeters[i])) {
      document.getElementById("r3result").innerText = "‚ùå Vul alle velden met getallen in.";
      return;
    }
  }
  // Check cm = meters * 100
  for(let i=0; i<4; i++) {
    if(Math.abs(centimeters[i] - (meters[i]*100)) > 0.01) {
      document.getElementById("r3result").innerText = "‚ùå Controleer je omrekening van meter naar centimeter.";
      return;
    }
  }
  // Check formule
  const formulaInput = document.getElementById("r3_formula").value.replace(/\s/g,'').toLowerCase();
  const correctFormulas = ["x*100","x√ó100","x100"];
  if(!correctFormulas.includes(formulaInput)) {
    document.getElementById("r3result").innerText = "‚ùå Formule klopt niet. Probeer: x * 100";
    return;
  }
  document.getElementById("r3result").innerHTML = "‚úÖ Jouw cijfer: <b>1</b>";
}

/* Room 4 Check */
function checkRoom4() {
  const answers = [60,135,120,85];
  // 25% korting op 80 = 80-20=60
  // 10% korting op 150 = 150-15=135
  // 40% korting op 200 = 200-80=120
  // 15% korting op 100 = 100-15=85
  for(let i=1; i<=4; i++) {
    let val = parseFloat(document.getElementById("r4q"+i).value);
    if(Math.abs(val - answers[i-1]) > 0.1) {
      document.getElementById("r4result").innerText = "‚ùå Probeer opnieuw";
      return;
    }
  }
  document.getElementById("r4result").innerHTML = "‚úÖ Jouw cijfer: <b>9</b>";
}

/* Room 5 Check */
function checkRoom5() {
  const
::contentReference[oaicite:0]{index=0}
