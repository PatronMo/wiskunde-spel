<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<title>Pyramide van de Duivelüî•üëπ - Nieuwe Wiskunde</title>
<style>
body {
    font-family: 'Arial', sans-serif;
    color: #f1f1f1;
    text-align: center;
    padding: 20px;
    background: linear-gradient(135deg, #1e1e1e, #3c0a0a);
}
h1, h2, h3 {
    font-family: 'Impact', sans-serif;
    color: #ff4747;
    text-shadow: 2px 2px 6px black;
}
h1 { font-size: 48px; margin-bottom: 10px; }
h2 { margin-top: 0; }
.room {
    display: none;
    background: rgba(0,0,0,0.85);
    padding: 20px;
    margin: 20px auto;
    max-width: 700px;
    border-radius: 12px;
    border: 2px solid #ff4747;
    text-align: left;
}
input, textarea {
    padding: 6px;
    font-size: 16px;
    background: #2e1f30;
    color: #fff;
    border: 1px solid #ff4747;
    border-radius: 5px;
}
input { width: 140px; }
textarea { width: 100%; margin-bottom: 10px; }
button {
    padding: 10px 22px;
    margin: 8px;
    cursor: pointer;
    font-size: 16px;
    background: #ff4747;
    border: 1px solid #fff;
    border-radius: 6px;
    color: white;
}
button:hover { background: #ff1e1e; }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div id="home">
<h1>Pyramide van de Duivelüî•üëπ</h1>
<p><b>Los alle escape rooms op en verzamel de cijfers om te ontsnappen!</b></p>

<button onclick="openRoom(1)">Escape Room 1 ‚Äì Veulens</button>
<button onclick="openRoom(2)">Escape Room 2 ‚Äì Breuken en Verhoudingen</button>
<button onclick="openRoom(3)">Escape Room 3 ‚Äì Omrekeningen & Tabellen</button>
<button onclick="openRoom(4)">Escape Room 4 ‚Äì Kortingen en Procenten</button>
<button onclick="openRoom(5)">Escape Room 5 ‚Äì Procenten Berekeningen</button>
<button onclick="openRoom(6)">Escape Room 6 ‚Äì Groei Tabellen</button>
<button onclick="openRoom(7)">Escape Room 7 ‚Äì Exponenten & Wortels</button>

<h3>üî¢ Eindcode</h3>
<input id="finalCode" maxlength="7" placeholder="code" />
<br>
<button onclick="checkFinal()">Check code</button>
<p id="victory"></p>
</div>

<!-- ESCAPE ROOM 1 -->
<div class="room" id="room1">
<h2>Escape Room 1 ‚Äì De Veulens üê¥</h2>
<p>Op de stadsboerderij zijn twee veulens geboren: Misty en Njelka. Ze groeien ieder op hun eigen tempo en jij moet uitzoeken welk veulen het zwaarst is bij de geboorte, wanneer ze even zwaar zijn, en hoe zwaar ze dan zijn. Gebruik het kladblok hieronder om berekeningen te maken!</p>

<textarea id="r1Notes" rows="6" placeholder="Maak hier je berekeningen en notities..."></textarea>

<p>Misty: gewicht (kg) = 25 + 6y</p>
<p>Njelka: gewicht (kg) = 35 + 4t</p>
<p>(y en t = tijd in maanden)</p>

<p>a) Welk veulen is het zwaarst bij de geboorte? (maand 0)</p>
<input id="r1q1" placeholder="Misty of Njelka">

<p>b) Na hoeveel maanden zijn de veulens even zwaar?</p>
<input id="r1q2" placeholder="aantal maanden">

<p>c) Hoeveel kg wegen ze dan ongeveer?</p>
<input id="r1q3" placeholder="kg">

<p>d) Welk veulen is het zwaarst na 10 maanden?</p>
<input id="r1q4" placeholder="Misty of Njelka">

<p>e) Hoeveel kg verschil is er na 10 maanden?</p>
<input id="r1q5" placeholder="kg verschil">

<canvas id="grafiekVeulens"></canvas>

<button onclick="checkRoom1()">Check</button>
<p id="r1result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 2 -->
<div class="room" id="room2">
<h2>Escape Room 2 ‚Äì Breuken en Verhoudingen</h2>
<p>1) 2/3 + 1/6 = <input id="r2q1"></p>
<p>2) 5/8 ‚àí 1/4 = <input id="r2q2"></p>
<p>3) 3/5 √ó 10 = <input id="r2q3"></p>
<p>4) (2/3) √∑ (1/6) = <input id="r2q4"></p>
<button onclick="checkRoom2()">Check</button>
<p id="r2result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 3 -->
<div class="room" id="room3">
<h2>Escape Room 3 ‚Äì Omrekeningen & Tabellen</h2>
<p>Vul de juiste waarden in de tabel:</p>
<table>
<tr><th>Lengte (m)</th><td contenteditable="true" id="tbl_r3_1"></td><td contenteditable="true" id="tbl_r3_2"></td><td contenteditable="true" id="tbl_r3_3"></td><td contenteditable="true" id="tbl_r3_4"></td></tr>
<tr><th>Lengte (cm)</th><td contenteditable="true" id="tbl_r3_5"></td><td contenteditable="true" id="tbl_r3_6"></td><td contenteditable="true" id="tbl_r3_7"></td><td contenteditable="true" id="tbl_r3_8"></td></tr>
</table>
<p>Formule om van meter naar centimeter te gaan:</p>
<input type="text" id="r3_formula" class="formula-input" placeholder="bijv. x * 100" />
<br><br>
<button onclick="checkRoom3()">Check</button>
<p id="r3result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 4 -->
<div class="room" id="room4">
<h2>Escape Room 4 ‚Äì Kortingen en Procenten</h2>
<p>1) ‚Ç¨80 met 25% korting ‚Üí <input id="r4q1"> ‚Ç¨</p>
<p>2) ‚Ç¨150 met 10% korting ‚Üí <input id="r4q2"> ‚Ç¨</p>
<p>3) ‚Ç¨200 met 40% korting ‚Üí <input id="r4q3"> ‚Ç¨</p>
<p>4) ‚Ç¨100 met 15% korting ‚Üí <input id="r4q4"> ‚Ç¨</p>
<button onclick="checkRoom4()">Check</button>
<p id="r4result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 5 -->
<div class="room" id="room5">
<h2>Escape Room 5 ‚Äì Procenten Berekeningen</h2>
<p>1) 20% van 120 = <input id="r5q1"> ‚Ç¨</p>
<p>2) 35% korting op ‚Ç¨180 = <input id="r5q2"> ‚Ç¨</p>
<p>3) 50% van 90 = <input id="r5q3"> ‚Ç¨</p>
<button onclick="checkRoom5()">Check</button>
<p id="r5result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 6 -->
<div class="room" id="room6">
<h2>Escape Room 6 ‚Äì Groei Tabellen</h2>
<p>Vul de tabel in. De getallen groeien volgens de pijlen √ó2, √ó3, √ó2.</p>
<table>
<tr><th>Gewicht (kg)</th><td contenteditable="true" id="tbl_r6_1"></td><td contenteditable="true" id="tbl_r6_2"></td><td contenteditable="true" id="tbl_r6_3"></td><td contenteditable="true" id="tbl_r6_4"></td></tr>
<tr><th>Bedrag (‚Ç¨)</th><td contenteditable="true" id="tbl_r6_5"></td><td contenteditable="true" id="tbl_r6_6"></td><td contenteditable="true" id="tbl_r6_7"></td><td contenteditable="true" id="tbl_r6_8"></td></tr>
</table>
<p>Formule: Bedrag = <input type="text" id="r6_formula" class="formula-input" placeholder="bijv. 2x + 1"></p>
<button onclick="checkRoom6()">Check</button>
<p id="r6result"></p>
<button onclick="goHome()">Terug</button>
</div>

<!-- ESCAPE ROOM 7 -->
<div class="room" id="room7">
<h2>Escape Room 7 ‚Äì Exponenten & Wortels</h2>
<p>1) Wat is 4¬≥?</p>
<input id="r7q1">
<p>2) Wat is ‚àö64?</p>
<input id="r7q2">
<p>3) Wat is 2‚Åµ?</p>
<input id="r7q3">
<p>4) Wat is de uitkomst van 3 √ó (2¬≤)?</p>
<input id="r7q4">
<p>5) Wat is ‚àö(9 + 16)?</p>
<input id="r7q5">
<button onclick="checkRoom7()">Check</button>
<p id="r7result"></p>
<button onclick="goHome()">Terug</button>
</div>

<script>
// Algemene functies
const correctCode = "4816937";

function openRoom(n){
    document.getElementById("home").style.display = "none";
    for(let i=1;i<=7;i++){
        document.getElementById("room"+i).style.display="none";
    }
    document.getElementById("room"+n).style.display="block";
    if(n===1) tekenGrafiek();
}

function goHome(){ location.reload(); }

function checkFinal(){
    if(document.getElementById("finalCode").value===correctCode){
        document.getElementById("victory").innerText="üéâ Ontsnapt!";
    } else {
        document.getElementById("victory").innerText="‚ùå Foute code";
    }
}

// ESCAPE ROOM 1 functies
function checkRoom1(){
    const a=document.getElementById("r1q1").value.toLowerCase();
    const b=parseFloat(document.getElementById("r1q2").value);
    const c=parseFloat(document.getElementById("r1q3").value);
    const d=document.getElementById("r1q4").value.toLowerCase();
    const e=parseFloat(document.getElementById("r1q5").value);

    // Antwoorden berekend uit de formules
    // Misty: 25+6y, Njelka:35+4t
    // Geboorte maand 0: Misty=25, Njelka=35 ‚Üí Njelka zwaarder
    // Gelijke gewicht: 25+6y = 35+4y ‚Üí 2y=10 ‚Üí y=5 maanden, gewicht=25+6*5=55
    // Na 10 maanden: Misty=25+6*10=85, Njelka=35+4*10=75 ‚Üí Misty zwaarder, verschil=10
    if(a!=="njelka" || Math.abs(b-5)>0.5 || Math.abs(c-55)>2 || d!=="misty" || Math.abs(e-10)>1){
        document.getElementById("r1result").innerText="‚ùå Probeer opnieuw";
        return;
    }
    document.getElementById("r1result").innerHTML="‚úÖ Jouw cijfer: <b>4</b>";
}

function tekenGrafiek(){
    new Chart(document.getElementById("grafiekVeulens"),{
        type:"line",
        data:{
            labels:[0,1,2,3,4,5,6,7,8,9,10],
            datasets:[
                {label:"Misty",data:[25,31,37,43,49,55,61,67,73,79,85],borderColor:"red",fill:false},
                {label:"Njelka",data:[35,39,43,47,51,55,59,63,67,71,75],borderColor:"orange",fill:false}
            ]
        },
        options:{
            responsive:true,
            plugins:{legend:{position:'bottom'}}
        }
    });
}

// ESCAPE ROOM 2‚Äì7 check functies (oude standaard) //
function checkRoom2(){ /* oude logica hier */ alert("Check room 2"); }
function checkRoom3(){ /* oude logica hier */ alert("Check room 3"); }
function checkRoom4(){ /* oude logica hier */ alert("Check room 4"); }
function checkRoom5(){ /* oude logica hier */ alert("Check room 5"); }
function checkRoom6(){ /* oude logica hier */ alert("Check room 6"); }
function checkRoom7(){ /* oude logica hier */ alert("Check room 7"); }

</script>
</body>
</html>
